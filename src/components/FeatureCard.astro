---
const { title, desc, image, features = [], imageAlt } = Astro.props as {
  title: string;
  desc?: string;
  image?: string;
  features?: string[];
  imageAlt?: string;
};
---
<article class="rounded-2xl border border-gray-800 bg-black text-white overflow-hidden shadow-sm min-h-[360px]">
  {image && (
    <img
      srcset={`${image.replace(/\.[^.]+$/, '')}-400.webp 400w, ${image.replace(/\.[^.]+$/, '')}-662.webp 662w, ${image.replace(/\.[^.]+$/, '')}-1024.webp 1024w`}
      sizes="(max-width: 640px) 400px, (max-width: 1024px) 662px, 1024px"
      src={`${image.replace(/\.[^.]+$/, '')}-1024.webp`}
      alt={imageAlt || title}
      width="1024"
      height="1024"
      class="h-48 w-full object-cover"
      loading="lazy"
      style="aspect-ratio: 1/1"
    />
  )}
  <div class="p-7">
    <h3 class="text-lg font-semibold text-white">{title}</h3>
    {desc && <p class="mt-2 text-sm text-gray-300">{desc}</p>}
    {features?.length > 0 && (
      <ul class="mt-4 space-y-2">
        {features.map((f) => (
          <li class="flex items-start gap-3 text-sm text-gray-300">
            <span class="mt-1.5 h-2 w-2 flex-shrink-0 rounded-full bg-brand-500"></span>
            <span>{f}</span>
          </li>
        ))}
      </ul>
    )}
  </div>
</article>
