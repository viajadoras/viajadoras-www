---
import StructuredData from "../components/StructuredData.astro";
import FAQSchema from "../components/FAQSchema.astro";

const props = Astro.props as Record<string, string>;
const pageTitle = props.title ?? 'Viajadoras - Viagens para Mulheres e Comunidade Segura';
const pageDescription = props.description ?? 'Sua comunidade de viagens para mulheres. Encontre companhia, faça check-ins de segurança e conecte-se com mulheres viajantes em todo o Brasil.';
const lang = 'pt-BR';
const isHomepage = Astro.url.pathname === '/';

const OG_VERSION = '20251002';
const ogPath = props.ogImage ?? `/og.jpg?v=${OG_VERSION}`;
const ogImage = (Astro.site ? new URL(ogPath, Astro.site).toString() : ogPath);
const ogImageWidePath = `/og_1200x630.jpg?v=${OG_VERSION}`;
const ogImageWide = (Astro.site ? new URL(ogImageWidePath, Astro.site).toString() : ogImageWidePath);
const twitterImagePath = `/twitter_1200x600.jpg?v=${OG_VERSION}`;
const twitterImage = (Astro.site ? new URL(twitterImagePath, Astro.site).toString() : twitterImagePath);
const ogAlt = 'Grupo de mulheres viajando e sorrindo na praia — Viajadoras';
const canonicalUrl = Astro.url ? Astro.url.toString() : (Astro.site ? Astro.site.toString() : '');

import "../styles/global.css";
---
<!DOCTYPE html>
<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Primary Meta Tags -->
    <title>{pageTitle}</title>
    <meta name="title" content={pageTitle} />
    <meta name="description" content={pageDescription} />
    <meta name="keywords" content="viagens para mulheres, viajar sozinha, comunidade mulheres viajantes, segurança feminina viagem, encontrar companhia viagem, app viagens mulheres, mulheres que viajam, turismo feminino, viajadoras brasil, rede de apoio feminina" />
    <meta name="author" content="Viajadoras" />
    <meta name="theme-color" content="#FF7F50" />
    <meta name="color-scheme" content="light dark" />

    <!-- Preconnect to external domains for better performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <link rel="preconnect" href="https://plausible.io" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800;900&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/logo.png" />
    <link rel="apple-touch-icon" href="/logo.png" />
    <link rel="manifest" href="/manifest.json" />

    <link rel="canonical" href={canonicalUrl} />
    <meta property="og:title" content={pageTitle} />
    <meta property="og:description" content={pageDescription} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalUrl} />
    <meta property="og:site_name" content="Viajadoras" />
    <meta property="og:locale" content="pt_BR" />
    <!-- Square image (fallback) -->
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:secure_url" content={ogImage} />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="1024" />
    <meta property="og:image:height" content="1024" />
    <meta property="og:image:alt" content={ogAlt} />
    <!-- Wide image (recommended for Facebook/LinkedIn) -->
    <meta property="og:image" content={ogImageWide} />
    <meta property="og:image:secure_url" content={ogImageWide} />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content={ogAlt} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={pageTitle} />
    <meta name="twitter:description" content={pageDescription} />
    <meta name="twitter:image" content={twitterImage} />
    <meta name="twitter:image:alt" content={ogAlt} />
    <meta name="twitter:site" content="@viajadorasbr" />
    <meta name="twitter:url" content={canonicalUrl} />

    <!-- Google tag (gtag.js) - Google Ads -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-17592059630"></script>
    <script defer>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'AW-17592059630');
    </script>

    <!-- Plausible Analytics -->
    <script defer data-domain="viajadoras.com" src="https://plausible.io/js/script.js"></script>

    <!-- Structured Data (Schema.org) -->
    <StructuredData
      type={isHomepage ? 'homepage' : 'page'}
      title={pageTitle}
      description={pageDescription}
      url={canonicalUrl}
    />
    {isHomepage && <FAQSchema />}
  </head>
  <body class="bg-neutral-50 text-neutral-900 font-sans antialiased">
    <header class="sticky top-0 z-50 w-full bg-[#FFFBF8]/95 backdrop-blur-sm border-b-2 border-[#FF7F50]/10 shadow-sm">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 sm:h-18 lg:h-20 items-center justify-between">
          <a href="/" class="flex items-center gap-2.5 sm:gap-3 group">
            <div class="relative">
              <div class="absolute inset-0 bg-gradient-to-br from-[#FF7F50] to-[#FADBC5] rounded-full opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
              <img src="/images/logo-128.webp" alt="Viajadoras" width="36" height="36" class="h-8 w-8 sm:h-9 sm:w-9 relative z-10 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3" />
            </div>
            <div class="flex flex-col">
              <h2 class="font-display text-xl sm:text-2xl font-bold text-neutral-900 tracking-tight">Viajadoras</h2>
              <span class="hidden sm:block text-[10px] uppercase tracking-[0.15em] text-[#FF7F50] font-medium -mt-0.5">Vai Segura!</span>
            </div>
          </a>
          <nav class="hidden lg:flex items-center gap-1">
            <a class="relative px-4 py-2 text-sm font-medium text-neutral-700 hover:text-neutral-900 transition-colors group" href="#como-funciona">
              Como Funciona
              <span class="absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-[#FF7F50] to-[#FADBC5] group-hover:w-full transition-all duration-300"></span>
            </a>
            <a class="relative px-4 py-2 text-sm font-medium text-neutral-700 hover:text-neutral-900 transition-colors group" href="#para-quem">
              Para Quem
              <span class="absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-[#FF7F50] to-[#FADBC5] group-hover:w-full transition-all duration-300"></span>
            </a>
            <a class="relative px-4 py-2 text-sm font-medium text-neutral-700 hover:text-neutral-900 transition-colors group" href="#destinos">
              Destinos
              <span class="absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-[#FF7F50] to-[#FADBC5] group-hover:w-full transition-all duration-300"></span>
            </a>
            <a class="relative px-4 py-2 text-sm font-medium text-neutral-700 hover:text-neutral-900 transition-colors group" href="#faq">
              FAQ
              <span class="absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-[#FF7F50] to-[#FADBC5] group-hover:w-full transition-all duration-300"></span>
            </a>
          </nav>
          <div class="flex items-center gap-3 sm:gap-4">
            <a
              href="https://instagram.com/viajadorasbr"
              target="_blank"
              rel="noopener noreferrer"
              class="hidden sm:inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white bg-[#FF7F50] rounded-full hover:bg-[#FF6B40] transition-all duration-300 hover:shadow-lg hover:shadow-[#FF7F50]/25 hover:-translate-y-0.5"
            >
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
              </svg>
              <span class="hidden xl:inline">Instagram</span>
            </a>
            <a
              href="https://instagram.com/viajadorasbr"
              target="_blank"
              rel="noopener noreferrer"
              class="lg:hidden p-2 text-primary hover:bg-primary/10 rounded-full transition-colors"
              aria-label="Instagram"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </header>
    <main>
      <slot />
    </main>
    <footer class="relative bg-neutral-900 text-neutral-100 py-16 overflow-hidden">
      <div class="absolute inset-0 bg-gradient-mesh opacity-30"></div>
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="grid grid-cols-2 gap-8 md:grid-cols-4">
          <div>
            <h3 class="text-lg font-bold text-white">Viajadoras</h3>
            <p class="mt-2 text-sm text-neutral-400">Seguranca e conexao para mulheres que viajam.</p>
          </div>
          <div>
            <h3 class="font-semibold uppercase tracking-wider text-white text-sm">Explore</h3>
            <nav class="mt-4 flex flex-col gap-2">
              <a class="text-neutral-400 hover:text-primary transition-colors text-sm" href="#como-funciona">Como Funciona</a>
              <a class="text-neutral-400 hover:text-primary transition-colors text-sm" href="#para-quem">Para Quem</a>
              <a class="text-neutral-400 hover:text-primary transition-colors text-sm" href="#destinos">Destinos</a>
              <a class="text-neutral-400 hover:text-primary transition-colors text-sm" href="#manifesto">Manifesto</a>
            </nav>
          </div>
          <div>
            <h3 class="font-semibold uppercase tracking-wider text-white text-sm">Legal</h3>
            <nav class="mt-4 flex flex-col gap-2">
              <a class="text-neutral-400 hover:text-primary transition-colors text-sm" href="/termos">Termos de Uso</a>
              <a class="text-neutral-400 hover:text-primary transition-colors text-sm" href="/privacidade">Privacidade</a>
            </nav>
          </div>
          <div>
            <h3 class="font-semibold uppercase tracking-wider text-white text-sm">Redes Sociais</h3>
            <div class="mt-4">
              <a class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-neutral-800 text-neutral-400 hover:bg-primary hover:text-white transition-all" href="https://instagram.com/viajadorasbr" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
        <div class="mt-12 border-t border-neutral-800 pt-8 text-center text-sm text-neutral-500">
          <p>© {new Date().getFullYear()} Viajadoras. Todos os direitos reservados.</p>
          <p class="mt-2">GT TECNOLOGIA E SERVICOS LTDA · CNPJ 46.112.388/0001-13</p>
        </div>
      </div>
    </footer>
    <script>
      // Global Scroll Reveal Observer
      document.addEventListener('DOMContentLoaded', () => {
        const observerOptions = {
          root: null,
          rootMargin: '0px',
          threshold: 0.15
        };

        const observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('revealed');
              observer.unobserve(entry.target);
            }
          });
        }, observerOptions);

        const revealElements = document.querySelectorAll('.scroll-reveal');
        revealElements.forEach(el => observer.observe(el));
      });
    </script>
  </body>

</html>
