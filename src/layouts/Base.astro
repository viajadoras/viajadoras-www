---
import StructuredData from "../components/StructuredData.astro";
import FAQSchema from "../components/FAQSchema.astro";

const props = Astro.props as Record<string, string>;
const pageTitle = props.title ?? 'Viajadoras - Vai Segura';
const pageDescription = props.description ?? 'Companhia e segurança entre mulheres: conexões por viagem, check-ins e contatos de confiança.';
const lang = 'pt-BR';
const isHomepage = Astro.url.pathname === '/';

const OG_VERSION = '20251002';
const ogPath = props.ogImage ?? `/og.jpg?v=${OG_VERSION}`;
const ogImage = (Astro.site ? new URL(ogPath, Astro.site).toString() : ogPath);
const ogImageWidePath = `/og_1200x630.jpg?v=${OG_VERSION}`;
const ogImageWide = (Astro.site ? new URL(ogImageWidePath, Astro.site).toString() : ogImageWidePath);
const twitterImagePath = `/twitter_1200x600.jpg?v=${OG_VERSION}`;
const twitterImage = (Astro.site ? new URL(twitterImagePath, Astro.site).toString() : twitterImagePath);
const ogAlt = 'Grupo de mulheres viajando e sorrindo na praia — Viajadoras';
const canonicalUrl = Astro.url ? Astro.url.toString() : (Astro.site ? Astro.site.toString() : '');

import "../styles/global.css";
---
<!DOCTYPE html>
<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Primary Meta Tags -->
    <title>{pageTitle}</title>
    <meta name="title" content={pageTitle} />
    <meta name="description" content={pageDescription} />
    <meta name="keywords" content="viagens para mulheres, mulheres viajando sozinhas, mulheres viajantes, passagens para mulheres, hotéis para mulheres, hospedagem feminina, hostels mulheres, pousadas seguras mulheres, destinos para mulheres, onde se hospedar mulher sozinha, viagem solo feminina, segurança feminina viagem, app para mulheres viajantes, grupo de mulheres viajantes, rede de mulheres viajantes, viajadoras brasil, comunidade mulheres viajantes, viagem segura mulheres, companhia de viagem feminina, aplicativo viagem mulheres, mochileiras brasil, mulheres que viajam sozinhas, turismo feminino, viagem em grupo mulheres, amigas de viagem, conectar mulheres viajantes, socialização viagem mulheres, mulheres viajando acompanhadas, viagem trabalho mulheres, viagem negócios feminina, rede apoio viajantes, check-in viagem, contatos confiança, SOS viagem mulheres, segurança viagem feminina, encontrar companhia viagem, mulheres viajando juntas, viajar com segurança, hospedagem confiável mulheres, hotel seguro mulher, desconto hospedagem mulheres, viagem barata mulheres, roteiro viagem feminino, dicas viagem mulheres, como viajar sozinha, mulher viajante brasil, viagens SP mulheres, viagens RJ mulheres, viagens nordeste mulheres, melhores destinos mulheres 2025, comunidade viajantes femininas, apps segurança viagem, turismo solo feminino, aventura feminina, backpacking mulheres" />
    <meta name="author" content="Viajadoras" />
    <meta name="theme-color" content="#FF7F50" />
    <meta name="color-scheme" content="light dark" />

    <!-- Preconnect to external domains for better performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <link rel="preconnect" href="https://plausible.io" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/logo.png" />
    <link rel="apple-touch-icon" href="/logo.png" />
    <link rel="manifest" href="/manifest.json" />

    <link rel="canonical" href={canonicalUrl} />
    <meta property="og:title" content={pageTitle} />
    <meta property="og:description" content={pageDescription} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalUrl} />
    <meta property="og:site_name" content="Viajadoras" />
    <meta property="og:locale" content="pt_BR" />
    <!-- Square image (fallback) -->
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:secure_url" content={ogImage} />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="1024" />
    <meta property="og:image:height" content="1024" />
    <meta property="og:image:alt" content={ogAlt} />
    <!-- Wide image (recommended for Facebook/LinkedIn) -->
    <meta property="og:image" content={ogImageWide} />
    <meta property="og:image:secure_url" content={ogImageWide} />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content={ogAlt} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={pageTitle} />
    <meta name="twitter:description" content={pageDescription} />
    <meta name="twitter:image" content={twitterImage} />
    <meta name="twitter:image:alt" content={ogAlt} />
    <meta name="twitter:site" content="@viajadorasbr" />
    <meta name="twitter:url" content={canonicalUrl} />
    
    <!-- Google tag (gtag.js) - Google Ads -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-17592059630"></script>
    <script defer>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'AW-17592059630');
    </script>

    <!-- Plausible Analytics -->
    <script defer data-domain="viajadoras.com" src="https://plausible.io/js/script.js"></script>

    <!-- Structured Data (Schema.org) -->
    <StructuredData
      type={isHomepage ? 'homepage' : 'page'}
      title={pageTitle}
      description={pageDescription}
      url={canonicalUrl}
    />
    {isHomepage && <FAQSchema />}
  </head>
  <body class="bg-background-light text-text-main font-sans">
    <header class="sticky top-0 z-50 w-full bg-background-light/80 backdrop-blur-sm">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex h-20 items-center justify-between">
          <a href="/" class="flex items-center gap-3">
            <img src="/images/logo-128.webp" alt="Viajadoras" width="32" height="32" class="h-8 w-8" />
            <h2 class="text-text-main text-2xl font-bold">Viajadoras</h2>
          </a>
          <nav class="hidden items-center gap-8 md:flex">
            <a class="text-text-main/80 text-base font-medium hover:text-primary transition-colors" href="#como-funciona">Como Funciona</a>
            <a class="text-text-main/80 text-base font-medium hover:text-primary transition-colors" href="#manifesto">Nosso Manifesto</a>
            <a class="text-text-main/80 text-base font-medium hover:text-primary transition-colors" href="#conectar">Conectar</a>
          </nav>
          <div class="flex items-center gap-4">
            <button class="md:hidden text-text-main" aria-label="Menu">
              <span class="material-symbols-outlined text-3xl">menu</span>
            </button>
          </div>
        </div>
      </div>
    </header>
    <main>
      <slot />
    </main>
    <footer class="bg-text-main text-background-light py-12">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-2 gap-8 md:grid-cols-4">
          <div>
            <h3 class="text-lg font-bold text-white">Viajadoras</h3>
            <p class="mt-2 text-sm text-white/70">Sua Rede de Segurança e Conexão.</p>
          </div>
          <div>
            <h3 class="font-bold uppercase tracking-wider text-white">Explore</h3>
            <nav class="mt-4 flex flex-col gap-2">
              <a class="text-white/70 hover:text-primary" href="#como-funciona">Como Funciona</a>
              <a class="text-white/70 hover:text-primary" href="#manifesto">Nosso Manifesto</a>
              <a class="text-white/70 hover:text-primary" href="#conectar">Conectar</a>
            </nav>
          </div>
          <div>
            <h3 class="font-bold uppercase tracking-wider text-white">Legal</h3>
            <nav class="mt-4 flex flex-col gap-2">
              <a class="text-white/70 hover:text-primary" href="/termos">Termos de Uso</a>
              <a class="text-white/70 hover:text-primary" href="/privacidade">Privacidade</a>
            </nav>
          </div>
          <div>
            <h3 class="font-bold uppercase tracking-wider text-white">Conecte-se</h3>
            <div class="mt-4 flex gap-4">
              <a class="text-white/70 hover:text-primary" href="https://instagram.com/viajadorasbr" target="_blank" rel="noopener noreferrer" aria-label="Instagram">Instagram</a>
            </div>
          </div>
        </div>
        <div class="mt-8 border-t border-white/20 pt-8 text-center text-sm text-white/50">
          <p>© {new Date().getFullYear()} Viajadoras. Todos os direitos reservados.</p>
          <p class="mt-2">GT TECNOLOGIA E SERVICOS LTDA · CNPJ 46.112.388/0001-13</p>
        </div>
      </div>
    </footer>
  </body>
  
</html>
